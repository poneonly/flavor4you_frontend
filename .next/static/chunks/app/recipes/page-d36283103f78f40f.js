(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{3772:(e,t,r)=>{Promise.resolve().then(r.bind(r,7434))},7434:(e,t,r)=>{"use strict";r.d(t,{default:()=>z});var i=r(6166),s=r(5766),l=r(3987),a=r(2656),n=r(5113),o=r(5246),c=r(3602),x=r(4553),d=r(1907),h=r(313);function p(e){let{value:t,onChange:r,options:s=[8,12,16,20]}=e;return(0,i.jsx)(l.A,{sx:{minWidth:80},children:(0,i.jsxs)(c.A,{fullWidth:!0,size:"small",children:[(0,i.jsx)(x.A,{id:"limit-selector-label",children:"Show"}),(0,i.jsx)(d.A,{labelId:"limit-selector-label",value:t.toString(),label:"Show",onChange:e=>{r(Number(e.target.value))},children:s.map(e=>(0,i.jsx)(h.A,{value:e,children:e},e))})]})})}var m=r(2772),g=r.n(m),f=r(1964),u=r(7237),j=r(782),y=r(2468),b=r(2743),v=r(7639),A=r(1912),w=r(5430),S=r(4431);function C(e){let{recipe:t}=e;return(0,i.jsxs)(u.A,{sx:{height:"100%",width:"100%",maxWidth:350,mx:"auto",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},cursor:"pointer"},component:g(),href:"/recipes/".concat(t.id),style:{textDecoration:"none",color:"inherit"},children:[(0,i.jsx)(l.A,{sx:{position:"relative",width:"100%",height:220,flexShrink:0},children:t.recipeImages?(0,i.jsx)(f.default,{src:t.recipeImages,alt:t.title,fill:!0,sizes:"(max-width: 600px) 100vw, 350px",style:{objectFit:"cover"}}):(0,i.jsx)(l.A,{sx:{width:"100%",height:"100%",bgcolor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"0.875rem"},children:"No image"})}),(0,i.jsxs)(j.A,{sx:{flexGrow:1,p:2.5},children:[(0,i.jsx)(l.A,{sx:{mb:1,display:"flex",gap:.5,flexWrap:"wrap"},children:t.categories.map((e,t)=>(0,i.jsx)(y.A,{label:e,size:"small",sx:{bgcolor:"var(--color-primary)",color:"white",fontWeight:600,fontSize:"0.75rem"}},t))}),(0,i.jsx)(b.A,{variant:"h6",sx:{fontWeight:"bold",mb:1,fontFamily:"var(--font-playfair)",lineHeight:1.3,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.title}),(0,i.jsx)(b.A,{variant:"body2",color:"text.secondary",sx:{mb:2,fontFamily:"var(--font-manrope)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.description}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,flexWrap:"wrap",gap:1},children:[(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,i.jsx)(A.A,{size:16,color:"#666"}),(0,i.jsxs)(b.A,{variant:"body2",color:"text.secondary",children:[t.cookingTime,"m"]})]}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,i.jsx)(w.A,{size:16,color:"#666"}),(0,i.jsxs)(b.A,{variant:"body2",color:"text.secondary",children:[t.servings," servings"]})]}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,i.jsx)(S.A,{size:16,color:"#666"}),(0,i.jsx)(b.A,{variant:"body2",color:"text.secondary",children:t.views})]})]}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)(v.A,{value:t.rating,precision:.1,size:"small",readOnly:!0}),(0,i.jsx)(b.A,{variant:"body2",color:"text.secondary",children:t.rating})]}),(0,i.jsxs)(b.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:["by ",t.author]})]})]})]})}function k(e){let{recipesData:t}=e;return(0,i.jsx)(l.A,{sx:{display:"grid",gap:3,gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"1fr 1fr 1fr 1fr"},justifyItems:"start"},children:t.map((e,t)=>(0,i.jsx)(C,{recipe:e},t))})}var I=r(7816);function W(e){let{totalItems:t,limitPerPage:r}=e,s=Math.ceil(t/r),a=(0,n.useSearchParams)(),o=(0,n.useRouter)(),c=Number(a.get("page"))||1;return(0,i.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,i.jsx)(I.A,{count:s,page:c,onChange:(e,t)=>{let r=new URLSearchParams(a.toString());r.set("page",t.toString()),o.push("/recipes?".concat(r.toString()))},sx:{"& .MuiPaginationItem-root":{color:"primary","&.Mui-selected":{backgroundColor:"var(--color-primary)",color:"#fff"}}}})})}function z(){var e,t;let r=(0,n.useSearchParams)(),c=(0,n.useRouter)(),x=null!=(t=null==r?void 0:r.get("category"))?t:"All",d=(null==r||null==(e=r.get("search"))?void 0:e.toLowerCase())||"",h=Number(null==r?void 0:r.get("page"))||1,m=Number(null==r?void 0:r.get("limit"))||8,[g,u]=s.useState([]),[j,y]=s.useState(!0);s.useEffect(()=>{(async()=>{try{let e="/api/recipes";d?e="/api/recipes/search?search=".concat(encodeURIComponent(d)):x&&"All"!==x&&(e="/api/recipes/category?category=".concat(encodeURIComponent(x)));let t=await fetch(e);if(!t.ok)throw Error("Failed to load recipes");let r=await t.json();u(r)}catch(e){console.error(e)}finally{y(!1)}})()},[x,d]);let b=(h-1)*m,v=b+m,A=g.slice(b,v),w=s.useMemo(()=>d?'Recipes by "'.concat(d,'"'):"All"!==x?"Recipes by ".concat(x):"Recipes",[x,d]);return(0,i.jsxs)(o.default,{children:[(0,i.jsx)(l.A,{sx:{position:"relative",width:"100%",height:{xs:300,md:400}},children:(0,i.jsx)(f.default,{src:"https://res.cloudinary.com/dkp10td9f/image/upload/v1758614983/IMG_6056_rulkxk.jpg",alt:"Flavour4You",fill:!0,sizes:"100vw",style:{objectFit:"cover"}})}),(0,i.jsx)(a.A,{maxWidth:"lg",sx:{mb:4},children:(0,i.jsx)(l.A,{component:"h1",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:"bold",textAlign:"flex-start",color:"var(--color-primary)"},children:w})}),(0,i.jsx)(a.A,{maxWidth:"lg",sx:{mb:6},children:j?(0,i.jsx)(l.A,{children:"Loading recipes..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,i.jsx)(p,{value:m,onChange:e=>{let t=new URLSearchParams(r.toString());t.set("limit",e.toString()),t.set("page","1"),c.push("/recipes?".concat(t.toString()))}})}),(0,i.jsx)(k,{recipesData:A})]})}),!j&&(0,i.jsx)(a.A,{maxWidth:"lg",sx:{mb:6,display:"flex",justifyContent:"center"},children:(0,i.jsx)(W,{totalItems:g.length,limitPerPage:m,onPageChange:e=>{let t=new URLSearchParams(r.toString());t.set("page",e.toString()),t.set("limit",m.toString()),c.push("/recipes?".concat(t.toString()))}})})]})}}},e=>{e.O(0,[932,613,968,824,186,155,49,476,246,544,134,358],()=>e(e.s=3772)),_N_E=e.O()}]);